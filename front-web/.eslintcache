[{"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\User\\Form\\index.tsx":"1","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\components\\BaseForm\\index.tsx":"2","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\types\\User.ts":"3","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\index.tsx":"4","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\utils\\history.ts":"5","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Auth\\index.tsx":"6","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Client\\index.tsx":"7","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\User\\index.tsx":"8","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Schedule\\components\\ScheduleDetails\\index.tsx":"9","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\components\\Navbar\\index.tsx":"10","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Schedule\\components\\Loaders\\ScheduleDetailsinfo.tsx":"11","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\utils\\request.ts":"12","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\User\\List\\index.tsx":"13","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\utils\\list.ts":"14","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\components\\Price\\index.tsx":"15","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Client\\List\\index.tsx":"16","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Scheduling\\index.tsx":"17","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\Routes.tsx":"18","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Auth\\components\\Card\\index.tsx":"19","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\components\\Pagination\\index.tsx":"20","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Components\\Loaders\\CardListLoader.tsx":"21","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Components\\CardList\\index.tsx":"22","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Components\\CardClientList\\index.tsx":"23"},{"size":8291,"mtime":1616343769380,"results":"24","hashOfConfig":"25"},{"size":1072,"mtime":1616258809029,"results":"26","hashOfConfig":"25"},{"size":279,"mtime":1616341216042,"results":"27","hashOfConfig":"25"},{"size":152,"mtime":1611103820047,"results":"28","hashOfConfig":"25"},{"size":89,"mtime":1614011532830,"results":"29","hashOfConfig":"25"},{"size":1027,"mtime":1615942043160,"results":"30","hashOfConfig":"25"},{"size":330,"mtime":1617068371108,"results":"31","hashOfConfig":"25"},{"size":521,"mtime":1616258903914,"results":"32","hashOfConfig":"25"},{"size":4806,"mtime":1616338741967,"results":"33","hashOfConfig":"25"},{"size":2542,"mtime":1616260670141,"results":"34","hashOfConfig":"25"},{"size":602,"mtime":1612196454425,"results":"35","hashOfConfig":"25"},{"size":1704,"mtime":1616264909469,"results":"36","hashOfConfig":"25"},{"size":3560,"mtime":1617069174286,"results":"37","hashOfConfig":"25"},{"size":99,"mtime":1612197453174,"results":"38","hashOfConfig":"25"},{"size":502,"mtime":1612197840674,"results":"39","hashOfConfig":"25"},{"size":1891,"mtime":1617069937902,"results":"40","hashOfConfig":"25"},{"size":210,"mtime":1617149233941,"results":"41","hashOfConfig":"25"},{"size":951,"mtime":1616257663590,"results":"42","hashOfConfig":"25"},{"size":444,"mtime":1614294617928,"results":"43","hashOfConfig":"25"},{"size":1355,"mtime":1614294880244,"results":"44","hashOfConfig":"25"},{"size":774,"mtime":1616264819445,"results":"45","hashOfConfig":"25"},{"size":1139,"mtime":1617068874962,"results":"46","hashOfConfig":"25"},{"size":506,"mtime":1617070102794,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50"},"1bigoil",{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"87"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\User\\Form\\index.tsx",["98","99"],"import BaseForm from 'core/components/BaseForm';\r\nimport { makePrivateRequest } from 'core/utils/request';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Select from 'react-select';\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport './styles.scss';\r\nimport { Role } from 'core/types/User';\r\n\r\ntype FormState = {\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    password: string;\r\n    roles: Role[];\r\n}\r\n\r\ntype ParamsType = {\r\n    userId: string;\r\n}\r\n\r\nconst options = [\r\n    { id: '1', authority: 'ROLE_OPERATOR' },\r\n    { id: '2', authority: 'ROLE_ADMIN' }\r\n]\r\n\r\nconst Form = () => {\r\n    const { register, handleSubmit, errors, setValue, control } = useForm<FormState>();\r\n    const history = useHistory();\r\n    const { userId } = useParams<ParamsType>();\r\n    const [role, setRole] = useState<Role[]>([]);\r\n    const isEditing = userId !== 'create'\r\n\r\n    useEffect(() => {\r\n        if (isEditing) {\r\n            makePrivateRequest({ url: `/users/${userId}` })\r\n                .then(response => {\r\n                    setValue('firstName', response.data.firstName);\r\n                    setValue('email', response.data.email);\r\n                    setValue('lastName', response.data.lastName);\r\n                    setValue('roles', response.data.roles);\r\n                })\r\n        }\r\n    }, [userId, isEditing, setValue]);\r\n\r\n    const onSubmit = (data: FormState) => {\r\n        makePrivateRequest({\r\n            url: isEditing ? `/users/${userId}` : '/users',\r\n            method: isEditing ? 'PUT' : 'POST',\r\n            data\r\n        })\r\n            .then(() => {\r\n                toast.success('Usuário cadastrado com sucesso!', {\r\n                    style: { background: '#81c41d' },\r\n                    position: \"bottom-right\"\r\n                });\r\n                history.push('/admin/user');\r\n            })\r\n            .catch(() => {\r\n                toast.error('Error ao salvar usuário!')\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container-form\">\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <BaseForm\r\n                    title={isEditing ? 'EDITAR USUÁRIO' : \"CADASTRAR USUÁRIO\"}\r\n                >\r\n                    <div className=\"row\">\r\n                        <div className=\"col-6\">\r\n                            <div className=\"mb-4\">\r\n                                <input\r\n                                    name=\"firstName\"\r\n                                    type=\"text\"\r\n                                    className={`form-control input-base ${errors.firstName ? 'is-invalid' : ''}`}\r\n                                    placeholder=\"Nome\"\r\n                                    ref={register({\r\n                                        required: \"Campo obrigatório\",\r\n                                        minLength: { value: 3, message: 'O campo deve ter no mínimo 3 caracteres' },\r\n                                        maxLength: { value: 25, message: 'O campo deve ter no maximo 25 caracteres' }\r\n                                    })}\r\n                                />\r\n                                {errors.firstName && (\r\n                                    <div className=\"invalid-feedback d-block\">\r\n                                        {errors.firstName.message}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"mb-4\">\r\n                                <input\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    className={`form-control input-base ${errors.email ? 'is-invalid' : ''}`}\r\n                                    placeholder=\"Email\"\r\n                                    ref={register({\r\n                                        required: \"Campo obrigatório\",\r\n                                        pattern: {\r\n                                            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                                            message: \"Email inválido\"\r\n                                        }\r\n                                    })}\r\n                                />\r\n                                {errors.email && (\r\n                                    <div className=\"invalid-feedback d-block\">\r\n                                        {errors.email.message}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"mb-4\">\r\n                                <input\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    className={`form-control input-base ${errors.password ? 'is-invalid' : ''}`}\r\n                                    placeholder=\"Digite aqui a Senha\"\r\n                                    ref={register({\r\n                                        required: \"Campo obrigatório\",\r\n                                        minLength: { value: 6, message: 'O campo deve ter no mínimo 6 caracteres' },\r\n                                    })}\r\n                                />\r\n                                {errors.password && (\r\n                                    <div className=\"invalid-feedback d-block\">\r\n                                        {errors.password.message}\r\n                                    </div>\r\n                                )}\r\n                                <p className=\"form-text-info mt-2\"> A sua senha deve ter pelo menos 8 caracteres e conter pelo menos um número</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-6\">\r\n                            <div className=\"mb-4\">\r\n                                <input\r\n                                    name=\"lastName\"\r\n                                    type=\"text\"\r\n                                    className={`form-control input-base ${errors.lastName ? 'is-invalid' : ''}`}\r\n                                    placeholder=\"Sobrenome\"\r\n                                    ref={register({\r\n                                        required: \"Campo obrigatório\",\r\n                                        minLength: { value: 3, message: 'O campo deve ter no mínimo 3 caracteres' },\r\n                                        maxLength: { value: 25, message: 'O campo deve ter no maximo 25 caracteres' }\r\n                                    })}\r\n                                />\r\n\r\n                                {errors.lastName && (\r\n                                    <div className=\"invalid-feedback d-block\">\r\n                                        {errors.lastName.message}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"mb-4\">\r\n                                <Controller\r\n                                    name=\"roles\"\r\n                                    rules={{ required: true }}\r\n                                    control={control}\r\n                                    as={Select}\r\n                                    classNamePrefix=\"roles-select\"\r\n                                    options={options}\r\n                                    getOptionLabel={(option: Role) => option.authority}\r\n                                    getOptionValue={(option: Role) => option.id}\r\n                                    isMulti\r\n                                    placeholder=\"Tipo Usuário\"\r\n                                />\r\n                                {errors.roles && (\r\n                                    <div className=\"invalid-feedback d-block\">\r\n                                        Campo obrigatório\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </BaseForm>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form;","C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\components\\BaseForm\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\types\\User.ts",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\index.tsx",[],["100","101"],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\utils\\history.ts",[],["102","103"],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Auth\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Client\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\User\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Schedule\\components\\ScheduleDetails\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\components\\Navbar\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Schedule\\components\\Loaders\\ScheduleDetailsinfo.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\utils\\request.ts",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\User\\List\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\utils\\list.ts",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\components\\Price\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Client\\List\\index.tsx",["104","105"],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Scheduling\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\Routes.tsx",[],["106","107"],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Auth\\components\\Card\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\core\\components\\Pagination\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Components\\Loaders\\CardListLoader.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Components\\CardList\\index.tsx",[],"C:\\Users\\Gois\\Desktop\\Projetos\\espacolr\\front-web\\src\\pages\\Admin\\Components\\CardClientList\\index.tsx",[],{"ruleId":"108","severity":1,"message":"109","line":32,"column":12,"nodeType":"110","messageId":"111","endLine":32,"endColumn":16},{"ruleId":"108","severity":1,"message":"112","line":32,"column":18,"nodeType":"110","messageId":"111","endLine":32,"endColumn":25},{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","replacedBy":"116"},{"ruleId":"113","replacedBy":"117"},{"ruleId":"115","replacedBy":"118"},{"ruleId":"108","severity":1,"message":"119","line":5,"column":17,"nodeType":"110","messageId":"111","endLine":5,"endColumn":28},{"ruleId":"108","severity":1,"message":"120","line":14,"column":9,"nodeType":"110","messageId":"111","endLine":14,"endColumn":16},{"ruleId":"113","replacedBy":"121"},{"ruleId":"115","replacedBy":"122"},"@typescript-eslint/no-unused-vars","'role' is assigned a value but never used.","Identifier","unusedVar","'setRole' is assigned a value but never used.","no-native-reassign",["123"],"no-negated-in-lhs",["124"],["123"],["124"],"'useCallback' is defined but never used.","'history' is assigned a value but never used.",["123"],["124"],"no-global-assign","no-unsafe-negation"]